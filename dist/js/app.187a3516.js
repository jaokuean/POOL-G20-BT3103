(function(e){function t(t){for(var s,i,n=t[0],c=t[1],l=t[2],u=0,p=[];u<n.length;u++)i=n[u],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(p.length)p.shift()();return r.push.apply(r,l||[]),o()}function o(){for(var e,t=0;t<r.length;t++){for(var o=r[t],s=!0,n=1;n<o.length;n++){var c=o[n];0!==a[c]&&(s=!1)}s&&(r.splice(t--,1),e=i(i.s=o[0]))}return e}var s={},a={app:0},r=[];function i(t){if(s[t])return s[t].exports;var o=s[t]={i:t,l:!1,exports:{}};return e[t].call(o.exports,o,o.exports,i),o.l=!0,o.exports}i.m=e,i.c=s,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(i.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)i.d(o,s,function(t){return e[t]}.bind(null,s));return o},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=t,n=n.slice();for(var l=0;l<n.length;l++)t(n[l]);var d=c;r.push([0,"chunk-vendors"]),o()})({0:function(e,t,o){e.exports=o("56d7")},"034f":function(e,t,o){"use strict";o("85ec")},"120d":function(e,t,o){},1299:function(e,t,o){},1436:function(e,t,o){"use strict";o("38a1")},1928:function(e,t,o){},"199c":function(e,t){},"1ee9":function(e,t,o){},"20b9":function(e,t,o){"use strict";o("cd0e")},"23be":function(e,t,o){"use strict";var s=o("199c"),a=o.n(s);t["default"]=a.a},"283a":function(e,t,o){},"2a93":function(e,t,o){"use strict";o("8ab2")},3547:function(e,t,o){e.exports=o.p+"img/phone.bc2a5563.png"},"38a1":function(e,t,o){},"3dfd":function(e,t,o){"use strict";var s=o("6e36"),a=o("23be"),r=(o("034f"),o("2877")),i=Object(r["a"])(a["default"],s["a"],s["b"],!1,null,null,null);t["default"]=i.exports},4416:function(e,t,o){"use strict";o("63c0")},4678:function(e,t,o){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=r(e);return o(t)}function r(e){if(!o.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=r,e.exports=a,a.id="4678"},"472c":function(e,t,o){},"49e6":function(e,t,o){e.exports=o.p+"img/subs2.c7773789.png"},"4b87":function(e,t,o){},"4eaa":function(e,t,o){"use strict";o("b90b")},"4f70":function(e,t,o){},5672:function(e,t,o){"use strict";o("4f70")},"56d7":function(e,t,o){"use strict";o.r(t);o("e260"),o("e6cf"),o("cca6"),o("a79d");var s=o("2b0e"),a=o("3dfd"),r=o("8c4f"),i=o("2f62"),n=o("0e44");s["a"].use(i["a"]);var c=new i["a"].Store({state:{user:{loggedIn:!1,data:null}},getters:{user:function(e){return e.user}},mutations:{SET_LOGGED_IN:function(e,t){e.user.loggedIn=t},SET_USER:function(e,t){e.user.data=t}},actions:{fetchUser:function(e,t){var o=e.commit;o("SET_LOGGED_IN",null!==t),o("SET_USER",t?{displayName:t.displayName,email:t.email,uid:t.uid,photoUrl:t.photoURL}:null)}},plugins:[Object(n["a"])()]}),l=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("navbar"),s("div",{attrs:{id:"mainContainer"}},[s("activity-feed",{directives:[{name:"show",rawName:"v-show",value:e.activityOpen,expression:"activityOpen"}],attrs:{id:"activityFeed"}}),s("div",{attrs:{id:"rightContainer"}},[s("div",{attrs:{id:"mainCol"}},[s("div",{attrs:{id:"topContainer"}},[s("span",{attrs:{id:"toggleAF",title:"Toggle ActivityFeed"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.activityOpen,expression:"activityOpen"}],staticClass:"arrowIcon",attrs:{src:o("e0f8")},on:{click:e.toggle}}),s("img",{directives:[{name:"show",rawName:"v-show",value:!e.activityOpen,expression:"!activityOpen"}],staticClass:"arrowIcon",attrs:{src:o("6416")},on:{click:e.toggle}})]),s("span",{attrs:{id:"back"}},[s("img",{attrs:{title:"Back to default dashboard",id:"homeIcon",src:o("fbf5")},on:{click:e.home}})])]),s("pending-pools",{directives:[{name:"show",rawName:"v-show",value:!e.doubleClickedPools,expression:"!doubleClickedPools"}],on:{clicked:e.onClicked,dbclicked:e.onDbClicked}}),e.doubleClickedPools?s("pool-profile-page",{attrs:{pool:e.pool}}):e._e()],1),s("div",{attrs:{id:"rightCol"}},[s("account-sidebar",{directives:[{name:"show",rawName:"v-show",value:!e.clickedPool,expression:"!clickedPool"}]}),e.clickedPool?s("pool-sidebar",{attrs:{pool:e.pool},on:{toProfile:e.onDbClicked}}):e._e()],1)])],1)],1)},d=[],u=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"container"}},[e.user.loggedIn?[s("nav",[s("img",{staticClass:"logo",attrs:{alt:"pool logo",src:o("fc32")}}),s("ul",[s("li",[s("router-link",{attrs:{to:"home"}},[e._v("Dashboard")])],1),s("li",[s("router-link",{attrs:{to:"about-us"}},[e._v("About Us")])],1),s("li",[s("router-link",{attrs:{to:"explore"}},[e._v("Explore")])],1),s("router-link",{attrs:{to:"user-profile"}},[s("img",{staticClass:"logo",attrs:{id:"avatarImg",alt:"photoURL",src:e.userData.profilePhoto}})]),s("span",{attrs:{id:"welcomeUser"}},[e._v(" Welcome,"),s("br"),e._v(" "+e._s(e.userData.name)+" ")]),s("button",{on:{click:function(t){return t.preventDefault(),e.signOut(t)}}},[s("span",[e._v("Logout")])])],1)])]:[s("nav",[s("img",{staticClass:"logo",attrs:{alt:"pool logo",src:o("fc32")}}),s("ul",[s("li",[s("router-link",{attrs:{to:"explore"}},[e._v("Explore")])],1),s("li",[s("router-link",{attrs:{to:"about-us"}},[e._v("About Us")])],1),s("button",{attrs:{id:"loginBtn"},on:{click:e.goLogin}},[s("span",[e._v("Get Started")])])])])]],2)},p=[],h=o("5530"),m=o("2591"),f={data:function(){return{userData:{}}},components:{},computed:Object(h["a"])({},Object(i["b"])({user:"user"})),methods:{signOut:function(){var e=this;m["a"].auth().signOut().then((function(){e.$router.push("logout")})).catch((function(e){console.log("Logout error: "+e)}))},goLogin:function(){this.$router.push("login")},getUser:function(){var e=this;this.user.loggedIn&&m["a"].firestore().collection("users").doc(this.user.data.uid).get().then((function(t){t.exists&&(e.userData=t.data())}))}},created:function(){this.getUser()}},v=f,g=(o("2a93"),o("2877")),b=Object(g["a"])(v,u,p,!1,null,"74355ec3",null),A=b.exports,w=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"feedContainer"}},[o("div",{attrs:{id:"titleContainer"}},[e._m(0),o("a",{attrs:{id:"feedNumber"}},[o("span",{attrs:{id:"feedNumberText"}},[e._v(e._s(e.feeds.length))])])]),o("p",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[o("i",[e._v("Loading please wait...")])]),o("ul",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},e._l(e.feeds,(function(t,s){return o("li",{key:s,on:{click:function(t){return e.popup(s)}}},[o("span",{attrs:{id:"li-container"}},[o("div",{staticStyle:{width:"20%"}},[o("img",{attrs:{src:t.imgURL}})]),o("div",{staticStyle:{width:"80%"}},[e._v(" "+e._s(t.shortContent)+" ")])])])})),0),o("div",{staticClass:"modal",attrs:{id:"myModal"}},[o("div",{staticClass:"modal-content"},[o("div",{staticClass:"modal-header"},[o("span",{staticClass:"close"},[e._v("×")]),o("h2",{domProps:{textContent:e._s(e.popupTitle)}})]),o("div",{staticClass:"modal-body"},[o("p",{domProps:{textContent:e._s(e.popupContent)}})])])])])},y=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("a",{attrs:{id:"title"}},[o("strong",[e._v("ACTIVITY FEED")])])}],C=(o("6062"),o("d3b7"),o("3ca3"),o("ddb0"),o("159b"),o("fb6a"),{apiKey:"AIzaSyDDIm2Qkh5suaWll769SwbPLXuvMLE-ts4",authDomain:"pooldb-b6390.firebaseapp.com",projectId:"pooldb-b6390",storageBucket:"pooldb-b6390.appspot.com",messagingSenderId:"190157167499",appId:"1:190157167499:web:5ff619af63db1df751ed8e",measurementId:"G-6CESK7X59P"});m["a"].initializeApp(C),m["a"].analytics();var _=m["a"],P=_,x={data:function(){return{feeds:[],feedsID:new Set,popupTitle:"",popupContent:"",loading:!0}},methods:{fetchFeeds:function(){var e=this,t=this.$store.getters.user.data.uid,o=P.firestore().collection("poolgroups"),s=P.firestore().collection("activities");o.where("userID","==",t).get().then((function(t){var o=t.size,a=0;0==o&&(e.loading=!1),t.forEach((function(t){s.where("pool","==",t.data().poolID).onSnapshot((function(t){a+=1;var s=t.size,r=0;a==o&&0==s&&(e.loading=!1),t.forEach((function(t){r+=1;var i=t.data();i["date"]=i.dateCreated.toDate(),i.content.length>76?i.shortContent=i.content.slice(0,76)+"...":i.shortContent=i.content,P.firestore().collection("pools").doc(i.pool).get().then((function(n){P.firestore().collection("services").doc(n.data().serviceId).get().then((function(n){n.exists?i["imgURL"]=n.data().logo:console.log("Services for this activity does not exist"),e.feedsID.has(t.id)||(e.feeds.unshift(i),e.feedsID.add(t.id)),s==r&&a==o&&e.callback()}))}))}))}))}))})).then((function(){}))},callback:function(){this.feeds=this.feeds.sort((function(e,t){return t.date-e.date})),this.loading=!1},popup:function(e){var t=document.getElementById("myModal"),o=document.getElementsByClassName("close")[0],s=this.feeds[e];this.popupTitle=s.title,this.popupContent=s.content,t.style.display="block",o.onclick=function(){t.style.display="none"},window.onclick=function(e){e.target==t&&(t.style.display="none")}}},created:function(){this.fetchFeeds()}},N=x,k=(o("d036"),Object(g["a"])(N,w,y,!1,null,"4f57a1ce",null)),j=k.exports,D=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"card"},[s("div",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},[s("img",{attrs:{src:e.user.profilePhoto,id:"profilePic"}}),s("h2",[e._v(e._s(e.user.name))]),s("div",{staticClass:"userDetailDiv"},[s("img",{staticClass:"icon",attrs:{src:o("9afb")}}),s("a",{staticClass:"userDetailText"},[e._v(e._s(e.user.email))])]),s("div",{staticClass:"userDetailDiv"},[s("img",{staticClass:"icon",attrs:{src:o("3547")}}),s("a",{staticClass:"userDetailText"},[e._v(e._s(e.user.phone))])]),s("h3",[e._v("Monthly Spendings")]),s("p",{attrs:{id:"monthlyspendings"}},[e._v("$"+e._s(e.spending))]),s("h3",[e._v("Next Payment Date:")]),s("a",{staticClass:"paymentText"},[e._v(e._s(e.nextPaymentDate))]),e.paymentPool.length>0?s("a",{staticClass:"paymentText"},[e._v(" for "+e._s(e.paymentPool)+" ($"+e._s(e.paymentAmount)+")")]):e._e(),s("p",[s("button",{on:{click:e.toProfile}},[s("span",[e._v("Edit Profile")])])]),s("p",[s("button",{on:{click:e.toStatistics}},[s("span",[e._v("View Statistics")])])])]),s("p",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[s("i",[e._v("Loading please wait...")])])])},S=[],E=(o("b680"),o("1276"),o("ac1f"),{data:function(){return{spending:0,user:{},nextPaymentDate:"No pools subscribed",paymentPool:"",paymentAmount:"",loading:!0}},methods:{fetchData:function(){var e=this,t=this.$store.getters.user.data.uid,o=P.firestore().collection("users"),s=P.firestore().collection("poolgroups"),a=P.firestore().collection("pools"),r=P.firestore().collection("services");o.doc(t).get().then((function(t){e.user=t.data()})),s.where("userID","==",t).get().then((function(t){var o=0,s=t.size;0==s&&(e.loading=!1);var i=new Date;t.forEach((function(t){var n=t.data(),c=n.poolID;a.doc(c).get().then((function(t){var a=t.data();a["poolID"]=c,r.doc(a.serviceId).get().then((function(t){var r=t.data()["fee"]/(a["maxSize"]-a["remaining"]);e.spending=e.spending+r;var c=n.nextPaymentDue.toDate();("string"==typeof e.nextPaymentDate&&c>=i||c>=i&&c<=e.nextPaymentDate)&&(e.nextPaymentDate=c,e.paymentPool=a.poolName,e.paymentAmount=r),o+=1,o==s&&e.callback()}))}))}))}))},callback:function(){this.spending=this.spending.toFixed(2),this.paymentAmount=this.paymentAmount.toFixed(2),this.nextPaymentDate=this.nextPaymentDate.toISOString().split("T")[0],this.loading=!1},toProfile:function(){this.$router.push("/user-profile")},toStatistics:function(){this.$router.push("/statistics")}},created:function(){this.fetchData()}}),I=E,F=(o("db01"),Object(g["a"])(I,D,S,!1,null,"017370f9",null)),B=F.exports,O=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"mainComponent"}},[o("div",{attrs:{id:"pendingPoolsContainer"}},[o("h2",[e._v("Pending Pools")]),o("p",{directives:[{name:"show",rawName:"v-show",value:0==e.pendingPools.length&&!e.loading,expression:"pendingPools.length==0 && !loading"}],staticClass:"msg"},[o("i",[e._v("You have no pending pools")])]),o("p",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"msg"},[o("i",[e._v("Loading please wait...")])]),o("ul",e._l(e.pendingPools,(function(t){return o("li",{key:t.index},[o("img",{staticClass:"poolImage",attrs:{src:t.logo}}),o("a",[e._v(e._s(t.poolName)),o("br"),e._v("Members: "+e._s(t.fill))])])})),0)]),o("div",{attrs:{id:"myPoolsContainer"}},[o("h2",[e._v("My Pools")]),e._m(0),o("p",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticClass:"msg"},[o("i",[e._v("Loading please wait...")])]),o("p",{directives:[{name:"show",rawName:"v-show",value:0==e.myPools.length&&!e.loading,expression:"myPools.length==0 && !loading"}],staticClass:"msg"},[o("i",[e._v("You have no pools, get started by adding a subscription!")])]),o("ul",e._l(e.myPools,(function(t){return o("li",{key:t.index,staticClass:"poolItem",attrs:{title:"Click to see in sidebar. Double click to expand"},on:{click:function(o){return e.oneClick(t)}}},[o("img",{staticClass:"poolImage",attrs:{src:t.logo}}),o("a",[e._v(e._s(t.poolName))])])})),0),o("div",{attrs:{id:"addSubContainer",title:"Explore now!"},on:{click:e.explore}},[o("a",{attrs:{id:"addIcon"}},[e._v("+")]),e._v(" Add a subscription ")])])])},T=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("p",{attrs:{id:"disclaimerTxt"}},[o("i",[e._v("*Click pool once to open sidebar, twice to open detailed profile")])])}],z=(o("a4d3"),o("e01a"),o("cb29"),o("25f0"),{data:function(){return{pendingPools:[],myPools:[],delay:700,clicks:0,timer:null,loading:!0}},methods:{fetchData:function(){var e=this,t=this.$store.getters.user.data.uid,o=P.firestore().collection("poolgroups"),s=P.firestore().collection("pools"),a=P.firestore().collection("services");o.where("userID","==",t).get().then((function(t){var o=t.size,r=0;0==o&&(e.loading=!1),t.forEach((function(t){var i=t.data().poolID,n=t.id;s.doc(i).get().then((function(t){var s=t.data();s["poolID"]=i,s["poolgrpID"]=n,a.doc(s.serviceId).get().then((function(e){var t=e.data();s["fee"]=t.fee,s["logo"]=t.logo,s["serviceName"]=t.serviceName,s["serviceDescription"]=t.description})).then((function(){0!=s.remaining&&(s["fill"]=(s.maxSize-s.remaining).toString()+"/"+s.maxSize.toString(),e.pendingPools.push(s)),e.myPools.push(s),r+=1,r==o&&e.stopLoad()}))}))}))}))},oneClick:function(e){var t=this;this.clicks++,1===this.clicks?this.timer=setTimeout((function(){t.$emit("clicked",e),t.clicks=0}),this.delay):(clearTimeout(this.timer),this.$emit("dbclicked",e),this.clicks=0)},explore:function(){this.$router.push("/explore")},stopLoad:function(){this.loading=!1}},created:function(){this.fetchData()}}),U=z,L=(o("713a"),Object(g["a"])(U,O,T,!1,null,"53699c13",null)),M=L.exports,R=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"mainComponent"}},[o("div",{attrs:{id:"header"}},[o("img",{attrs:{src:e.pool.logo,id:"servicePic"}}),o("div",[o("h1",[e._v(" "+e._s(e.pool.poolName))]),o("br"),o("a",[e._v(e._s(e.pool.serviceName)+" ($"+e._s(e.pool.fee)+"/mo)")])])]),o("div",{attrs:{id:"leavePoolContainer"}},[o("button",{attrs:{id:"leavePoolBtn",type:"button",title:"Leave this pool"},on:{click:e.confirmLeave}},[e._v("Leave Pool")])]),o("div",{attrs:{id:"members"}},[o("ul",e._l(e.members,(function(t){return o("li",{key:t.index},[o("img",{staticClass:"memberImage",attrs:{src:t.profilePhoto}}),o("a",[e._v(" "+e._s(t.name)+" ")])])})),0)]),o("div",{attrs:{id:"accountDetails"}},[e._m(0),o("p",[e._v(" "+e._s(e.pool.sharedUserName)+" ")]),e._m(1),o("p",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}]},[e._v(" "+e._s(e.pool.sharedPassword)+" ")]),o("p",{directives:[{name:"show",rawName:"v-show",value:!e.show,expression:"!show"}]},[e._v(e._s(e.blindpw))]),o("button",{attrs:{id:"show-dets"},on:{click:e.togglePassword}},[e._v(e._s(e.pwBtnTxt))])]),o("div",{attrs:{id:"writeMsgBtnWrapper"}},[o("a",{attrs:{id:"writeMsgBtn"},on:{click:e.popup}},[e._v("Write a message! +")])]),o("ul",{attrs:{id:"feedsList"}},e._l(e.feeds,(function(t){return o("li",{key:t.index,staticClass:"feedsListItem"},[o("h3",[e._v(e._s(t.title))]),o("p",[e._v(e._s(t.content))]),o("p",{staticClass:"feedDate"},[e._v(e._s(t.date))])])})),0),o("div",{staticClass:"modal",attrs:{id:"myModalForm"}},[o("div",{staticClass:"modal-content"},[o("span",{staticClass:"close"},[e._v("×")]),o("div",{attrs:{id:"msgBox"}},[o("h2",[e._v("Message")]),o("textarea",{directives:[{name:"model",rawName:"v-model",value:e.inputMsg,expression:"inputMsg"}],attrs:{id:"inputMsg",rows:"6"},domProps:{value:e.inputMsg},on:{input:function(t){t.target.composing||(e.inputMsg=t.target.value)}}})]),o("div",{attrs:{id:"commentBtnWrapper"}},[o("a",{attrs:{id:"commentBtn"},on:{click:e.comment}},[e._v("Comment")])])])])])},V=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("p",[o("strong",[e._v(" Username: ")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("p",[o("strong",[e._v(" Password: ")])])}],G=(o("38cf"),o("b0c0"),o("498a"),{data:function(){return{members:[],feeds:[],show:!1,clicked:!1,inputMsg:"",blindpw:"",pwBtnTxt:"Show password",userName:""}},props:["pool"],watch:{pool:function(e,t){e!=t&&(this.members=[],this.feeds=[],this.fetchData())}},methods:{fetchData:function(){var e=this;this.blindpw="*".repeat(this.pool.sharedPassword.length);var t=P.firestore().collection("poolgroups"),o=P.firestore().collection("users"),s=P.firestore().collection("activities");t.where("poolID","==",this.pool.poolID).get().then((function(t){t.forEach((function(t){var s=t.data().userID;o.doc(s).get().then((function(t){var o=t.data();o["userID"]=s,e.members.push(o),t.id==e.$store.getters.user.data.uid&&(e.userName=o.name)}))}))})).then((function(){s.where("pool","==",e.pool.poolID).onSnapshot((function(t){e.feeds=[];var o=t.size,s=0;t.forEach((function(t){var a=t.data();a["date"]=a.dateCreated.toDate(),e.feeds.push(a),s+=1,o==s&&e.callback()}))}))}))},callback:function(){this.feeds=this.feeds.sort((function(e,t){return t.date-e.date}))},popup:function(){var e=document.getElementById("myModalForm"),t=document.getElementsByClassName("close")[1];e.style.display="block",t.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")}},comment:function(){var e=this.inputMsg.trim();if(0==e.length)return alert("Please write something!");var t={};t["content"]=e,t["title"]="Message from "+this.userName,t["user"]=this.$store.getters.user.data.uid,t["pool"]=this.pool.poolID,t["dateCreated"]=P.firestore.Timestamp.fromDate(new Date),P.firestore().collection("activities").add(t).then((function(e){console.log("write successful "+e)}));var o=document.getElementById("myModalForm");o.style.display="none",this.inputMsg="",alert("Message written succesfully!")},togglePassword:function(){this.show?this.pwBtnTxt="Show password":this.pwBtnTxt="Hide password",this.show=!this.show},confirmLeave:function(){var e=this,t=confirm("Are you sure you want to leave this group?");t&&P.firestore().collection("pools").doc(this.pool.poolID).get().then((function(t){var o=t.data();o.maxSize==o.remaining+1?e.deletePool():e.leavePool(o.remaining)}))},deletePool:function(){var e=this,t=P.firestore().collection("poolgroups"),o=P.firestore().collection("pools"),s=P.firestore().collection("services");s.doc(this.pool.serviceId).update({score:P.firestore.FieldValue.increment(-1)}),t.doc(this.pool.poolgrpID).delete().then((function(){o.doc(e.pool.poolID).delete().then((function(){window.location.reload(),alert("Left group")}))}))},leavePool:function(e){var t=this,o=P.firestore().collection("poolgroups"),s=P.firestore().collection("pools"),a=P.firestore().collection("activities"),r=P.firestore().collection("services"),i={};i["content"]=this.$store.getters.user.data.displayName+" left the pool",i["title"]="***Pool Notice***",i["user"]="",i["pool"]=this.pool.poolID,i["dateCreated"]=P.firestore.Timestamp.fromDate(new Date),r.doc(this.pool.serviceId).update({score:P.firestore.FieldValue.increment(-1)}),o.doc(this.pool.poolgrpID).delete().then((function(){s.doc(t.pool.poolID).update({remaining:e+1}).then((function(){a.add(i).then((function(){window.location.reload(),alert("Left group")}))}))}))}},created:function(){this.fetchData()}}),H=G,Q=(o("97b1"),Object(g["a"])(H,R,V,!1,null,"a64487d2",null)),Y=Q.exports,q=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"main-wrapper"},[o("div",{staticClass:"sidebar-container"},[o("div",{attrs:{id:"sidebar-header"}},[o("img",{attrs:{src:e.pool.logo,id:"servicePic"}}),o("h1",[e._v(" "+e._s(e.pool.serviceName)+" ")]),o("p",[e._v(" Monthly Cost")]),o("p",{attrs:{id:"costbox"}},[e._v("$"+e._s(e.pool.fee))])]),o("p",{attrs:{id:"buttonBox"}},[o("button",{on:{click:e.toProfile}},[o("span",[e._v("To pool")])])]),o("div",{attrs:{id:"members-container"}},[e._m(0),o("p",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],attrs:{id:"loadingText"}},[o("i",[e._v("Loading please wait...")])]),o("ul",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}]},e._l(e.members,(function(t){return o("li",{key:t.name},[o("img",{attrs:{src:t.profilePhoto}}),o("p",[e._v(" "+e._s(t.name)+" ")])])})),0)])])])},$=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("p",[o("strong",[e._v(" Members ")])])}],J={data:function(){return{members:[],loading:!0}},props:["pool"],created:function(){this.fetchMembers(),console.log(this.pool)},watch:{pool:function(){this.members=[],this.loading=!0,this.fetchMembers()}},methods:{fetchMembers:function(){var e=this,t=P.firestore().collection("poolgroups"),o=P.firestore().collection("users");t.where("poolID","==",this.pool.poolID).get().then((function(t){var s=t.size,a=0;t.forEach((function(t){o.doc(t.data().userID).get().then((function(t){t.exists&&e.members.push(t.data()),a+=1,a==s&&e.stopLoad()}))}))}))},stopLoad:function(){this.loading=!1},toProfile:function(){this.$emit("toProfile",this.pool)}}},W=J,Z=(o("9bd1"),Object(g["a"])(W,q,$,!1,null,"c889c296",null)),X=Z.exports,K={data:function(){return{clickedPool:!1,doubleClickedPools:!1,activityOpen:!0,pool:{}}},components:{navbar:A,ActivityFeed:j,AccountSidebar:B,PendingPools:M,PoolProfilePage:Y,PoolSidebar:X},methods:{onClicked:function(e){this.clickedPool=!0,this.pool=e},onDbClicked:function(e){this.doubleClickedPools=!0,this.clickedPool=!1,this.pool=e},toggle:function(){this.activityOpen?(this.activityOpen=!1,document.getElementById("mainContainer").style.gridTemplateColumns="1fr",this.arrow="right-arrow-angle.png"):(this.activityOpen=!0,document.getElementById("mainContainer").style.gridTemplateColumns="1fr 4fr",this.arrow="left-arrow-angle.png")},home:function(){this.doubleClickedPools=!1,this.clickedPool=!1}}},ee=K,te=(o("9e64"),Object(g["a"])(ee,l,d,!1,null,"5bcd93a6",null)),oe=te.exports,se=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[s("navbar"),s("img",{attrs:{id:"poolLogo",alt:"pool logo",src:o("7b1f")}}),s("h4",[e._v("Manage your subs, POOL your resources")]),s("div",{attrs:{id:"loginBox"}},[e._m(0),s("google-login")],1),s("p",[e._v("Pool © 2021")])],1)},ae=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("p",{attrs:{id:"divider"}},[o("span",{attrs:{id:"textDivider"}},[o("i",[e._v("Get started here")])])])}],re=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("button",{staticClass:"googlebtn",on:{click:e.socialLogin}},[s("img",{attrs:{alt:"Google Logo",src:o("eebb")}}),s("span",{staticClass:"googelbtntxt"},[e._v("Log in with Google")])])])},ie=[],ne=o("1da1"),ce=(o("96cf"),{data:function(){return{}},methods:{socialLogin:function(){var e=this,t=new m["a"].auth.GoogleAuthProvider;m["a"].auth().signInWithPopup(t).then((function(t){P.firestore().collection("users").doc(t.user.uid).get().then(function(){var o=Object(ne["a"])(regeneratorRuntime.mark((function o(s){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:s.exists?e.$router.push({name:"Home"}):(e.createAccount(t.user.displayName,t.user.email,t.user.photoURL,t.user.uid),e.$router.push({name:"SetPassword"}));case 1:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()).catch((function(e){console.log("Error getting document:",e)}))})).catch((function(e){alert("error "+e.message)}))},createAccount:function(e,t,o,s){console.log("Enter create ACCOUNT "),console.log("name: "+e),console.log("email: "+t),console.log("photoUrl: "+o),console.log("uid: "+s),P.firestore().collection("users").doc(s).set({email:t,name:e,phone:"",profilePhoto:o,pw:""}).catch((function(e){console.error("Error writing document: ",e)}))},checkUser:function(e){return Object(ne["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,P.firestore().collection("users").doc(e).get().then(function(){var e=Object(ne["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:console.log("Exists?"+t.exists),o=!!t.exists;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log("Error getting document:",e)}));case 2:return t.abrupt("return",o);case 3:case"end":return t.stop()}}),t)})))()}}}),le=ce,de=(o("d24a"),Object(g["a"])(le,re,ie,!1,null,"288ff15b",null)),ue=de.exports,pe={data:function(){return{}},components:{GoogleLogin:ue,navbar:A},methods:{}},he=pe,me=(o("20b9"),Object(g["a"])(he,se,ae,!1,null,"f152f6d6",null)),fe=me.exports,ve=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"container"},[o("navbar"),e._m(0),e._m(1),e._m(2),e._m(3)],1)},ge=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"header"}},[s("img",{staticClass:"logo",staticStyle:{width:"30%","margin-top":"60px"},attrs:{alt:"pool logo",src:o("7b1f")}}),s("h5",[e._v("Manage your subs, POOL your resources")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"blurb"}},[o("p",[e._v("Subscriptions are everywhere today. We want to help you manage them")]),o("p",[e._v(" Pooled subscriptions help you save time and money, allowing you to subscribe to more! ")]),o("p",[e._v(" Pool streamlines the process of finding, sharing and managing your subscriptions, all on one platform! ")]),o("p",[e._v(" Using Pool, you can manage all your payments, account details and shared subscription all on our site. ")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"content"}},[o("div",{staticClass:"card"},[o("p",{staticClass:"card_head"},[e._v("Subscribe With Friends")]),o("p",{staticClass:"card_content"},[e._v(" You can create pools for yourself and your friends and family. No more awkwardly scrolling through group messages or late night texts to look for account login details ")])]),o("div",{staticClass:"card"},[o("p",{staticClass:"card_head"},[e._v("Save On Subscriptions")]),o("p",{staticClass:"card_content"},[e._v(" The more the merrier! Split the cost with others so you don't need to pay as much! ")])]),o("div",{staticClass:"card"},[o("p",{staticClass:"card_head"},[e._v("Track your spending")]),o("p",{staticClass:"card_content"},[e._v(" Never forget how much you are spending, and what you are spending on. No need to dig through account statements to find what you are paying for! ")])])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"contact"}},[o("button",{attrs:{onclick:"location.href='mailto:bt3103.g20@gmail.com';"}},[o("span",[e._v("Email Us")])])])}],be={components:{navbar:A}},Ae=be,we=(o("a3cc"),Object(g["a"])(Ae,ve,ge,!1,null,"c17af3bc",null)),ye=we.exports,Ce=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("navbar"),s("div",{attrs:{id:"header"}},[s("img",{staticClass:"logo",staticStyle:{width:"30%","margin-top":"60px"},attrs:{alt:"pool logo",src:o("7b1f")}}),s("h5",[e._v("Manage your subs, POOL your resources")]),s("explore-by-category",{attrs:{servCatList:e.services}})],1),e.showTopSubs?s("div",{staticClass:"content"},[e._m(0),s("p",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[e._m(1)]),e._l(e.sortByScore(e.services).slice(0,5),(function(t){return s("div",{key:t.index,attrs:{id:"topSubList"}},[s("ul",[s("li",[s("img",{attrs:{alt:"photoURL",src:t.logo,id:"logoImg"}}),s("span",{on:{click:function(t){return e.goToPool(t)}}},[s("p",{staticClass:"serviceNames"},[e._v(e._s(t.name))]),s("p",{staticClass:"servicePoolsCount"},[e._v(" "+e._s(t.score)+" "),s("img",{staticClass:"subIcon",attrs:{alt:"people Icon",src:o("6432")}})]),s("span",{staticClass:"tooltiptext"},[e._v("Join Pool")])])])])])})),s("button",{staticClass:"contentFooter",on:{click:function(t){e.showTopSubs=!e.showTopSubs}}},[s("span",[e._v(" Click here to view more ")])])],2):s("div",{staticClass:"content"},[e._m(2),s("div",{attrs:{id:"chart"}},[s("top-subs-bar-chart")],1),s("button",{staticClass:"contentFooterAlt",on:{click:function(t){e.showTopSubs=!e.showTopSubs}}},[s("span",[e._v(" ← Go back ")])])])],1)},_e=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"sectionHeader"},[o("h1",{staticClass:"sectionh1"},[e._v("Trending Services")])])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("i",[o("br"),o("br"),o("div",{staticClass:"loader"})])},function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"sectionHeader"},[o("h1",{staticClass:"sectionh1"},[e._v("Trending Pools")])])}],Pe=(o("d81d"),o("466d"),o("a9e3"),o("1fca")),xe=[],Ne=[],ke=[];function je(e){var t=e.toString(16);return 1==t.length?"0"+t:t}function De(e,t,o){return"#"+je(e)+je(t)+je(o)}function Se(e,t,o){arguments.length<3&&(o=.5);for(var s=e.slice(),a=0;a<3;a++)s[a]=Math.round(s[a]+o*(t[a]-e[a]));return s}function Ee(e,t,o){var s=1/(o-1),a=[];e=e.match(/\d+/g).map(Number),t=t.match(/\d+/g).map(Number);for(var r=0;r<o;r++){var i=Se(e,t,s*r);a.push(De(i[0],i[1],i[2]))}return a}var Ie=P.firestore().collection("services").orderBy("score","desc");Ie.get().then((function(e){var t=e.size;ke=Ee("rgb(35, 255, 0)","rgb(255, 0, 0)",t),e.forEach(function(){var e=Object(ne["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:xe.push(t.data().serviceName),Ne.push(t.data().score);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));var Fe={extends:Pe["a"],data:function(){return{chartdata:{labels:xe,datasets:[{label:"Score",data:Ne,backgroundColor:ke}]},options:{indexAxis:"y",legend:{display:!1},layout:{padding:{left:5,right:0,top:0,bottom:5}},scales:{xAxes:[{ticks:{fontColor:"white",min:0},gridLines:{color:"rgba(0, 0, 0, 0)"}}],yAxes:[{ticks:{fontColor:"white",min:0},gridLines:{color:"rgba(0, 0, 0, 0)"}}]},responsive:!0,maintainAspectRatio:!1}}},methods:{},mounted:function(){this.renderChart(this.chartdata,this.options)}},Be=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",{staticClass:"container"},[o("div",{staticClass:"filters"},[o("span",{staticClass:"filter",class:{active:"ALL"===e.currentFilter},on:{click:function(t){return e.setFilter("ALL")}}},[e._v("ALL")]),o("span",{staticClass:"filter",class:{active:"Video Streaming"===e.currentFilter},on:{click:function(t){return e.setFilter("Video Streaming")}}},[e._v("Video Streaming")]),o("span",{staticClass:"filter",class:{active:"News"===e.currentFilter},on:{click:function(t){return e.setFilter("News")}}},[e._v("News")]),o("span",{staticClass:"filter",class:{active:"Food"===e.currentFilter},on:{click:function(t){return e.setFilter("Food")}}},[e._v("Food")]),o("span",{staticClass:"filter",class:{active:"Music"===e.currentFilter},on:{click:function(t){return e.setFilter("Music")}}},[e._v("Music")]),o("span",{staticClass:"filter",class:{active:"VPN"===e.currentFilter},on:{click:function(t){return e.setFilter("VPN")}}},[e._v("VPN")]),o("span",{staticClass:"filter",class:{active:"Reading"===e.currentFilter},on:{click:function(t){return e.setFilter("Reading")}}},[e._v("Readings")])])]),o("p",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[e._m(0)]),o("transition-group",{staticClass:"projects",attrs:{name:"services"}},e._l(e.filterData(),(function(t){return o("div",{key:t.name,staticClass:"project"},[o("div",[o("div",{staticClass:"image-wrapper",on:{click:function(t){return e.goToPool(t)}}},[o("img",{staticClass:"logoimage",attrs:{alt:"Logo",src:t.logo}}),o("div",{staticClass:"gradient-overlay"}),o("div",{staticClass:"circle"},[o("span",{staticClass:"service-title"},[e._v(e._s(t.name))]),o("span",{staticClass:"overlayText"},[e._v(e._s(t.name))])])])])])})),0)],1)},Oe=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("i",[o("br"),o("br"),o("div",{staticClass:"loader"}),o("br"),e._v(" Pools are loading...")])}],Te=(o("b64b"),{data:function(){return{currentFilter:"ALL",services:[],loading:!0,selectedName:"Netflix"}},computed:Object(h["a"])({},Object(i["b"])({user:"user"})),created:function(){this.fetchServices()},methods:{stopLoad:function(){this.loading=!1},goToPool:function(e){this.user.loggedIn?(this.selectedName=e.target.innerHTML,localStorage.sname=this.selectedName,this.$router.push({name:"PoolGroups",params:{sname:this.selectedName}})):this.$router.push("login")},setFilter:function(e){this.currentFilter=e},filterData:function(){var e=this;if("ALL"===this.currentFilter)return this.services;var t=this.services,o={};return Object.keys(t).forEach((function(s){var a=t[s];a.category===e.currentFilter&&(o[s]=a)})),o},fetchServices:function(){var e=Object(ne["a"])(regeneratorRuntime.mark((function e(){var t,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.firestore().collection("services").orderBy("serviceName");case 2:t=e.sent,t.get().then((function(e){var t=e.size,s=0;e.forEach(function(){var e=Object(ne["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.services.push({id:a.id,name:a.data().serviceName,logo:a.data().logo,category:a.data().category}),s+=1,s==t&&o.stopLoad();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()}}),ze=Te,Ue=(o("4416"),Object(g["a"])(ze,Be,Oe,!1,null,"48414efe",null)),Le=Ue.exports,Me={components:{navbar:A,TopSubsBarChart:Fe,ExploreByCategory:Le},computed:Object(h["a"])({},Object(i["b"])({user:"user"})),data:function(){return{services:[],pools:[],loading:!0,showTopSubs:!0,showTopSearch:!0}},created:function(){this.fetchData()},methods:{stopLoad:function(){this.loading=!1},goToPool:function(e){this.user.loggedIn?(this.selectedName=e.target.innerHTML,this.$router.push({name:"PoolGroups",params:{sname:this.selectedName}})):this.$router.push("login")},fetchData:function(){this.fetchServices()},fetchPools:function(){var e=Object(ne["a"])(regeneratorRuntime.mark((function e(){var t,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.firestore().collection("pools");case 2:t=e.sent,t.get().then((function(e){e.forEach((function(e){o.pools.push({id:e.id,numUsers:e.data().maxSize-e.data().remaining,sid:e.data().serviceId})}))}));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),fetchServices:function(){var e=Object(ne["a"])(regeneratorRuntime.mark((function e(){var t,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.firestore().collection("services").orderBy("score","desc");case 2:t=e.sent,t.get().then((function(e){var t=e.size,s=0;e.forEach(function(){var e=Object(ne["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.services.push({id:a.id,name:a.data().serviceName,score:a.data().score,logo:a.data().logo,category:a.data().category}),s+=1,s==t&&o.stopLoad();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),tabulateTrends:function(){var e=Object(ne["a"])(regeneratorRuntime.mark((function e(){var t,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=P.firestore().collection("pools"),o=P.firestore().collection("services"),o.get().then((function(e){e.forEach((function(e){e.ref.update({score:0}).then((function(){console.log("Document successfully updated!")})).catch((function(e){console.error("Error updating document: ",e)}))}))})),t.get().then((function(e){e.forEach(function(){var e=Object(ne["a"])(regeneratorRuntime.mark((function e(t){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.exists&&(s=t.data(),a=t.data().maxSize-t.data().remaining,o.doc(s.serviceId).update({score:m["a"].firestore.FieldValue.increment(a)}).then((function(){console.log("Document successfully updated!")})).catch((function(e){console.error("Error updating document: ",e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}));case 4:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}(),sortByScore:function(e){return e.slice().sort((function(e,t){return t.score-e.score}))}}},Re=Me,Ve=(o("8f5e"),Object(g["a"])(Re,Ce,_e,!1,null,"555a52b6",null)),Ge=Ve.exports,He=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"container"}},[s("img",{staticStyle:{width:"30%","max-height":"30vh"},attrs:{alt:"pool logo",src:o("7b1f")}}),s("div",{attrs:{id:"inputBox"}},[s("h3",[e._v("SET NEW PASSWORD")]),e.error?s("div",{attrs:{id:"pwdStrengthTxt"}},[e._v(e._s(e.error))]):e._e(),s("ul",{attrs:{id:"passwordHelp"}},[e._v(" Password Requirements "),s("br"),s("li",{class:e.has_minimum_lenth?"has_required":""},[e._v(" at least 8 characters ")]),s("br"),s("li",{class:e.has_lowercase?"has_required":""},[e._v("lowercase letter")]),s("br"),s("li",{class:e.has_uppercase?"has_required":""},[e._v("uppercase letter")]),s("br"),s("li",{class:e.has_number?"has_required":""},[e._v("number")]),s("br"),s("li",{class:e.has_special?"has_required":""},[e._v("special character")])]),"checkbox"===e.passwordType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"passwordField",attrs:{placeholder:"Password",type:"checkbox"},domProps:{checked:Array.isArray(e.password)?e._i(e.password,null)>-1:e.password},on:{change:function(t){var o=e.password,s=t.target,a=!!s.checked;if(Array.isArray(o)){var r=null,i=e._i(o,r);s.checked?i<0&&(e.password=o.concat([r])):i>-1&&(e.password=o.slice(0,i).concat(o.slice(i+1)))}else e.password=a}}}):"radio"===e.passwordType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"passwordField",attrs:{placeholder:"Password",type:"radio"},domProps:{checked:e._q(e.password,null)},on:{change:function(t){e.password=null}}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"passwordField",attrs:{placeholder:"Password",type:e.passwordType},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}}),s("div",{class:"level_"+e.strengthLevel,attrs:{id:"strength"}}),s("br"),"checkbox"===e.passwordType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],staticClass:"passwordField",attrs:{placeholder:"Confirm Password",type:"checkbox"},domProps:{checked:Array.isArray(e.password2)?e._i(e.password2,null)>-1:e.password2},on:{change:[function(t){var o=e.password2,s=t.target,a=!!s.checked;if(Array.isArray(o)){var r=null,i=e._i(o,r);s.checked?i<0&&(e.password2=o.concat([r])):i>-1&&(e.password2=o.slice(0,i).concat(o.slice(i+1)))}else e.password2=a},e.checkPassword]}}):"radio"===e.passwordType?s("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],staticClass:"passwordField",attrs:{placeholder:"Confirm Password",type:"radio"},domProps:{checked:e._q(e.password2,null)},on:{change:[function(t){e.password2=null},e.checkPassword]}}):s("input",{directives:[{name:"model",rawName:"v-model",value:e.password2,expression:"password2"}],staticClass:"passwordField",attrs:{placeholder:"Confirm Password",type:e.passwordType},domProps:{value:e.password2},on:{change:e.checkPassword,input:function(t){t.target.composing||(e.password2=t.target.value)}}}),s("br"),s("br"),s("input",{attrs:{type:"checkbox"},on:{click:function(t){return e.togglePwdVisible()}}}),s("span",{staticStyle:{color:"white"}},[e._v("Show/Hide Password")]),s("br"),s("br"),s("button",{staticClass:"submitBtn",attrs:{type:"submit"},on:{click:function(t){return e.submitPw()}}},[s("span",[e._v("Submit")])])])])},Qe=[],Ye={data:function(){return{error:null,password:"",password2:"",passwordType:"password",isValid:!1,has_minimum_lenth:!1,has_number:!1,has_lowercsae:!1,has_uppercase:!1,has_special:!1}},methods:{togglePwdVisible:function(){this.passwordType="password"===this.passwordType?"text":"password"},checkPassword:function(){""===this.password1||""===this.password2?(this.error="Please complete password confirmation.",this.isValid=!1):this.password===this.password2?this.scorePassword<75?(this.error="Please fulfill password requirements.",this.isValid=!1):this.isValid=!0:(this.error="Password does not match",this.isValid=!1)},submitPw:function(){this.isValid?this.$router.push("payment-setup"):this.checkPassword()}},computed:Object(h["a"])(Object(h["a"])({},Object(i["b"])({user:"user"})),{},{scorePassword:function(){var e=0;if(""===this.password)return e;for(var t={},o=0;o<this.password.length;o++)t[this.password[o]]=(t[this.password[o]]||0)+1,e+=5/t[this.password[o]];var s={digits:/\d/.test(this.password),lower:/[a-z]/.test(this.password),upper:/[A-Z]/.test(this.password),special:/\W/.test(this.password)},a=0;for(var r in s)a+=!0===s[r]?1:0;return e+=10*(a-1),parseInt(e)},strengthLevel:function(){var e=this.scorePassword;return 0===e?0:e<25?1:e<50?2:e<75?3:e>=75?4:0}}),watch:{password:function(){this.has_minimum_lenth=this.password.length>8,this.has_number=/\d/.test(this.password),this.has_lowercase=/[a-z]/.test(this.password),this.has_uppercase=/[A-Z]/.test(this.password),this.has_special=/\W/.test(this.password)}}},qe=Ye,$e=(o("b5b5"),Object(g["a"])(qe,He,Qe,!1,null,"6d4e912f",null)),Je=$e.exports,We=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("navbar"),s("div",{attrs:{id:"mainContainer"}},[s("activity-feed",{directives:[{name:"show",rawName:"v-show",value:e.activityOpen,expression:"activityOpen"}],attrs:{id:"activityFeed"}}),s("div",{attrs:{id:"rightContainer"}},[s("div",{attrs:{id:"mainCol"}},[s("div",{attrs:{id:"topContainer"}},[s("span",{attrs:{id:"toggleAF",title:"Toggle ActivityFeed"}},[s("img",{directives:[{name:"show",rawName:"v-show",value:e.activityOpen,expression:"activityOpen"}],staticClass:"arrowIcon",attrs:{alt:"arrow Icon",src:o("e0f8")},on:{click:e.toggle}}),s("img",{directives:[{name:"show",rawName:"v-show",value:!e.activityOpen,expression:"!activityOpen"}],staticClass:"arrowIcon",attrs:{alt:"arrow Icon",src:o("6416")},on:{click:e.toggle}})]),s("p",{attrs:{id:"backBtnWrapper"}},[s("button",{attrs:{id:"backBtn"},on:{click:e.back}},[s("span",[e._v("Back to explore")])])])]),s("div",e._l(e.services,(function(t){return s("div",{key:t.index,attrs:{id:"serviceContent"}},[s("ul",[s("li",[s("img",{attrs:{alt:"photoURL",src:t.logo,id:"logoImg"}})]),s("li",[s("span",{attrs:{id:"servHead"}},[e._v(e._s(t.name))]),s("span",{attrs:{id:"servType"}},[e._v(e._s(t.category))])])])])})),0),e.isEmpty?s("div",{attrs:{id:"bottomContainer"}},[s("br"),s("h1",[e._v("List of Pool Groups")]),s("p",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}]},[e._m(0)])]):s("div",{attrs:{id:"bottomContainer"}},[s("br"),s("h1",[e._v(" List of Pool Groups "),s("button",{staticClass:"startPoolBtn",on:{click:e.createPool}},[s("span",[e._v("Start a Pool")])])]),e._l(e.poolGroups,(function(t){return s("div",{key:t.index,attrs:{id:"poolContent"}},[s("ul",[s("li",[s("span",{attrs:{id:"poolHead"}},[e._v(e._s(t.name))])]),s("li",[s("span",{attrs:{id:"poolQty"}},[e._v(e._s(t.remaining)+" "),s("img",{staticClass:"subIcon",attrs:{alt:"Sub Icon",src:o("49e6")}}),e._v("remaining ")])]),t.isJoined?s("li",[s("button",{staticClass:"leaveBtn",on:{click:function(o){return e.leavePool(t)}}},[s("span",[e._v("Joined")])])]):0!=t.remaining?s("li",[s("button",{staticClass:"joinBtn",on:{click:function(o){return e.joinPool(t)}}},[s("span",[e._v("Join Pool")])])]):s("li",[s("button",{staticClass:"notifyBtn",on:{click:function(o){return e.notifyMe(t)}}},[s("span",[e._v("Notify Me")])])])])])}))],2)])])],1)],1)},Ze=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("i",[o("br"),o("br"),o("div",{staticClass:"loader"})])}],Xe={components:{ActivityFeed:j,navbar:A},data:function(){return{uid:this.$store.getters.user.data.uid,activityOpen:!0,servName:this.$route.params.sname,sid:null,poolGroups:[],services:[],loading:!0}},methods:{createPool:function(){localStorage.sid=this.sid,this.$router.push({name:"CreatePoolGroup",params:{sname:this.servName,sid:this.sid}})},joinPool:function(e){var t=this,o=P.firestore().collection("pools"),s=P.firestore().collection("services"),a=P.firestore().collection("poolgroups"),r=P.firestore().collection("activities"),i={};i["content"]=this.$store.getters.user.data.displayName+" joined the pool",i["dateCreated"]=P.firestore.FieldValue.serverTimestamp(),i["pool"]=e.id,i["title"]="***Pool Notice***",i["user"]="";var n={};n["poolID"]=e.id,n["startDate"]=P.firestore.FieldValue.serverTimestamp();var c=new Date;n["endDate"]=P.firestore.FieldValue.serverTimestamp(),n["nextPaymentDue"]=new Date(c.setMonth(c.getMonth()+1)),n["userID"]=this.uid,a.add(n).then(alert("You've successfully joined a "+e.name+"!")).catch((function(e){console.log("Error getting documents: ",e)})),o.doc(e.id).get().then((function(e){e.exists&&s.doc(e.data().serviceId).update({score:m["a"].firestore.FieldValue.increment(1)}).then((function(){console.log("Score Added updated!")})).catch((function(e){console.error("Error updating document: ",e)}))})),o.doc(e.id).update({remaining:m["a"].firestore.FieldValue.increment(-1)}).then((function(){console.log("Remaing Added updated!"),r.add(i).then((function(){t.$router.push({name:"Home"})}))})).catch((function(e){console.error("Error updating document: ",e)}))},notifyMe:function(e){alert("You will be notified when there is an open subscription for \n"+e.name+".")},leavePool:function(e){var t=this,o=confirm("Are you sure you want to leave this group?");o&&P.firestore().collection("pools").doc(e.id).get().then((function(o){o.data().maxSize==o.data().remaining+1?(console.log("delete"),t.deletePoolGroup(e)):(console.log("leave"),t.leavePoolGroup(o))}))},deletePoolGroup:function(e){var t=P.firestore().collection("poolgroups"),o=P.firestore().collection("pools"),s=P.firestore().collection("services");s.doc(e.sid).update({score:P.firestore.FieldValue.increment(-1)}),console.log("delete DAT: "+e.id),t.where("poolID","==",e.id).get().then((function(t){t.forEach((function(t){t.ref.delete().then((function(){o.doc(e.id).delete().then((function(){alert("Left group"),window.location.reload()}))}))}))}))},leavePoolGroup:function(e){var t=P.firestore().collection("poolgroups"),o=P.firestore().collection("pools"),s=P.firestore().collection("activities"),a=P.firestore().collection("services"),r={};r["content"]=this.$store.getters.user.data.displayName+" left the pool",r["title"]="***Pool Notice***",r["user"]="",r["pool"]=e.id,r["dateCreated"]=P.firestore.Timestamp.fromDate(new Date),a.doc(e.data().serviceId).update({score:P.firestore.FieldValue.increment(-1)}),console.log(e.id),t.where("poolID","==",e.id).get().then((function(t){t.forEach((function(t){console.log("test"),t.ref.delete().then((function(){o.doc(e.id).update({remaining:P.firestore.FieldValue.increment(1)}).then((function(){s.add(r).then((function(){alert("Left group"),window.location.reload()}))}))}))}))}))},fetchData:function(){var e=Object(ne["a"])(regeneratorRuntime.mark((function e(){var t,o,s,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,P.firestore().collection("services");case 2:return t=e.sent,e.next=5,P.firestore().collection("pools");case 5:return o=e.sent,s=P.firestore().collection("poolgroups"),e.next=9,t.where("serviceName","==",this.servName).get().then((function(e){e.forEach((function(e){a.sid=e.id,a.services.push({id:e.id,name:e.data().serviceName,score:e.data().score,logo:e.data().logo,category:e.data().category})}))})).catch((function(e){console.log("Error getting documents: ",e)}));case 9:return e.next=11,o.where("serviceId","==",this.sid).get().then((function(e){var t=e.size,o=0;e.forEach((function(e){var r={};r["id"]=e.id,r["remaining"]=e.data().remaining,r["sid"]=a.sid,r["name"]=e.data().poolName;var i=!1;s=s.where("userID","==",a.user.data.uid),s.where("poolID","==",e.id).get().then((function(e){e.forEach((function(e){e.exists&&(i=!0)}))})).then((function(){r["isJoined"]=i,a.poolGroups.push(r),o+=1,o==t&&a.stopLoad()}))}))})).catch((function(e){console.log("Error getting documents: ",e)}));case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkJoin:function(){},toggle:function(){console.log(this.servName),this.activityOpen?(this.activityOpen=!1,document.getElementById("mainContainer").style.gridTemplateColumns="1fr",this.arrow="right-arrow-angle.png"):(this.activityOpen=!0,document.getElementById("mainContainer").style.gridTemplateColumns="1fr 4fr",this.arrow="left-arrow-angle.png")},stopLoad:function(){this.loading=!1},back:function(){this.$router.push("/explore")}},created:function(){null==this.$route.params.sname&&(this.servName=localStorage.sname),this.fetchData(),this.checkJoin()},computed:Object(h["a"])(Object(h["a"])({},Object(i["b"])({user:"user"})),{},{isEmpty:function(){return 0==this.poolGroups.length}})},Ke=Xe,et=(o("69b4"),Object(g["a"])(Ke,We,Ze,!1,null,"68002e48",null)),tt=et.exports,ot=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("navbar",{key:e.navKey}),o("div",{staticClass:"mainContainer"},[o("h1",[e._v("Edit Profile")]),o("div",{attrs:{id:"contact"}},[o("div",{attrs:{id:"topContainer"}},[o("img",{attrs:{src:e.profilePhoto,id:"profilePic"}}),o("h2",[e._v(e._s(e.userName))]),o("a",{staticClass:"userDetailText"},[e._v(e._s(e.email))])]),o("div",{attrs:{id:"formsContainer"}},[o("form",{attrs:{id:"userInfoForm"}},[o("h3",[e._v("User Information")]),o("fieldset",[o("label",[e._v("Username:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.userNameUpdated,expression:"userNameUpdated"}],attrs:{placeholder:"Username",type:"text",tabindex:"1",required:"",autofocus:""},domProps:{value:e.userNameUpdated},on:{input:function(t){t.target.composing||(e.userNameUpdated=t.target.value)}}})]),o("fieldset",[o("label",[e._v("Profile Photo:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.profilePhotoUpdated,expression:"profilePhotoUpdated"}],attrs:{placeholder:"Photo url",type:"text",tabindex:"1",required:"",autofocus:""},domProps:{value:e.profilePhotoUpdated},on:{input:function(t){t.target.composing||(e.profilePhotoUpdated=t.target.value)}}})]),o("fieldset",[o("label",[e._v("Phone number:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNumber,expression:"phoneNumber"}],attrs:{placeholder:"Your phone number",type:"tel",tabindex:"3",maxlength:"8",required:""},domProps:{value:e.phoneNumber},on:{input:function(t){t.target.composing||(e.phoneNumber=t.target.value)}}})]),o("fieldset",[o("button",{attrs:{name:"update",type:"button",id:"updateBtn"},on:{click:e.updateUser}},[o("span",[e._v("Update User")])])])]),o("div",{staticClass:"vl"}),o("form",{attrs:{id:"cardInfoForm"}},[o("h3",[e._v("Card Details")]),o("fieldset",[o("label",[e._v("Card name:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.cardName,expression:"cardName"}],attrs:{placeholder:"Your card name",type:"text",tabindex:"3",required:""},domProps:{value:e.cardName},on:{input:function(t){t.target.composing||(e.cardName=t.target.value)}}})]),o("fieldset",[o("label",[e._v("Card number:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.cardNumber,expression:"cardNumber"}],attrs:{placeholder:"Your card number",type:"tel",tabindex:"3",required:""},domProps:{value:e.cardNumber},on:{input:function(t){t.target.composing||(e.cardNumber=t.target.value)}}})]),o("fieldset",[o("label",[e._v("CVC:")]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.cvc,expression:"cvc"}],attrs:{placeholder:"Your card cvc",type:"tel",tabindex:"3",required:""},domProps:{value:e.cvc},on:{input:function(t){t.target.composing||(e.cvc=t.target.value)}}})]),o("fieldset",[o("button",{attrs:{name:"update",type:"button",id:"updateBtn"},on:{click:e.updateCard}},[o("span",[e._v("Update Card Details")])])])])])])])],1)},st=[],at={components:{navbar:A},data:function(){return{userName:"",userNameUpdated:"",profilePhoto:"",profilePhotoUpdated:"",email:"",phoneNumber:"",cardName:"",cardNumber:"",cvc:"",creditExist:!1,creditId:"",uid:this.$store.getters.user.data.uid,navKey:0}},methods:{fetchData:function(){var e=this,t=P.firestore().collection("users"),o=P.firestore().collection("creditcards");t.doc(this.uid).get().then((function(t){var o=t.data();e.userName=o.name,e.userNameUpdated=o.name,e.profilePhoto=o.profilePhoto,e.profilePhotoUpdated=o.profilePhoto,e.email=o.email,e.phoneNumber=o.phone})).then((function(){o.where("userID","==",e.uid).get().then((function(t){t.forEach((function(t){var o=t.data();e.cardName=o.cardName,e.cardNumber=o.cardNumber,e.cvc=o.cvc,e.creditId=t.id,e.creditExist=!0}))}))}))},updateCard:function(){if(16!=this.cardNumber.length)return alert("Please input a correct credit card number (16 characters)"),void console.log(this.cardNumber);if(3==this.cvc.length)if(this.cardName.length<1)alert("Please input a card name");else if(this.checkAllNumbers(this.cardNumber))if(this.checkAllNumbers(this.cvc))if(console.log("updatecard called"),this.creditExist){var e=P.firestore().collection("creditcards").doc(this.creditId);e.update({cardNumber:this.cardNumber,cardName:this.cardName,cvc:this.cvc}).then((function(){alert("Credit card updated!")}))}else{var t=P.firestore().collection("creditcards");t.add({cardNumber:this.cardNumber,cardName:this.cardName,cvc:this.cvc,userID:this.uid}).then((function(){alert("Credit card created!")}))}else alert("Please make sure that cvc contains only numbers");else alert("Please make sure that card number contains only numbers");else alert("Please input a correct cvc number (3 characters)")},updateUser:function(){var e=this;if(this.checkAllNumbers(this.phoneNumber)){var t=P.firestore().collection("users").doc(this.uid);t.update({name:this.userNameUpdated,phone:this.phoneNumber,profilePhoto:this.profilePhotoUpdated}).then((function(){alert("User updated!"),e.userName=e.userNameUpdated,e.profilePhoto=e.profilePhotoUpdated,e.navKey+=1}))}else alert("Please make sure that phone number contains only numbers")},checkAllNumbers:function(e){for(var t=["0","1","2","3","4","5","6","7","8","9"],o=0;o<e.length;o++)if(t.indexOf(e[o])<=-1)return!1;return!0}},created:function(){this.fetchData()}},rt=at,it=(o("1436"),Object(g["a"])(rt,ot,st,!1,null,"5eb193dd",null)),nt=it.exports,ct=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("nav-bar"),o("button",{on:{click:e.goBack}},[o("span",[e._v("Go Back")])]),o("h1",{attrs:{id:"title"}},[e._v("Pool statistics")]),o("div",{attrs:{id:"mainContainer"}},[o("div",{staticStyle:{padding:"0.5em"}},[o("div",{staticClass:"card"},[o("pools-chart"),o("h3",{staticClass:"loading"},[e._v("loading...")])],1)]),o("div",{staticStyle:{padding:"0.5em"}},[o("div",{staticClass:"card"},[o("spendings-chart"),o("h3",{staticClass:"loading"},[e._v("loading...")])],1)])]),o("div",{staticClass:"card"},[o("pricing-chart"),o("h3",{staticClass:"loading"},[e._v("loading...")])],1)],1)},lt=[],dt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{"text-align":"center"}},[o("h2",[e._v("Breakdown of total pool subscriptions")]),o("pools-chart")],1)},ut=[],pt={extends:Pe["a"],data:function(){return{datacollection:{labels:["Video Streaming","News","Food","Music","VPN","Reading"],datasets:[{label:"Number of subscriptions",backgroundColor:["red","green","yellow","purple","brown","blue"],data:[0,0,0,0,0,0]}]},options:{legend:{display:!1},title:{display:!0,text:"Total Pool subscriptions for different categories"},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}}},methods:{fetchItems:function(){var e=this,t=P.firestore().collection("pools"),o=P.firestore().collection("services");t.get().then((function(t){var s=t.size,a=0;0==s&&e.render(),t.docs.forEach((function(t){var r=t.data();o.doc(r.serviceId).get().then((function(t){if(t.exists){var o=e.datacollection.labels.indexOf(t.data().category);e.datacollection.datasets[0].data[o]=e.datacollection.datasets[0].data[o]+(r.maxSize-r.remaining)}a+=1,a==s&&e.render()}))}))}))},render:function(){this.renderChart(this.datacollection,this.options)}},created:function(){this.fetchItems()}},ht={components:{PoolsChart:pt}},mt=ht,ft=Object(g["a"])(mt,dt,ut,!1,null,null,null),vt=ft.exports,gt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{"text-align":"center"}},[o("h2",[e._v("Your monthly spendings breakdown")]),o("spendings-chart",{directives:[{name:"show",rawName:"v-show",value:e.havePools,expression:"havePools"}],on:{noPools:e.noPools}})],1)},bt=[],At={extends:Pe["b"],data:function(){return{datacollection:{labels:["Video Streaming","News","Food","Music","VPN","Reading"],datasets:[{label:"Amount spent ($)",backgroundColor:["red","green","yellow","purple","brown","blue"],data:[0,0,0,0,0,0]}]},options:{legend:{display:!0},title:{display:!0,text:"Breakdown of spendings ($)"},responsive:!0,maintainAspectRatio:!1}}},methods:{fetchItems:function(){var e=this,t=this.$store.getters.user.data.uid,o=P.firestore().collection("poolgroups"),s=P.firestore().collection("pools"),a=P.firestore().collection("services");o.where("userID","==",t).get().then((function(t){var o=t.size,r=0;0==o&&(e.options.title.text="You have no subscriptions",e.options.legend.display=!1,e.render()),t.docs.forEach((function(t){s.doc(t.data().poolID).get().then((function(t){if(t.exists){var s=t.data();a.doc(s.serviceId).get().then((function(t){if(t.exists){var a=e.datacollection.labels.indexOf(t.data().category),i=t.data().fee/(s.maxSize-s.remaining);e.datacollection.datasets[0].data[a]=e.datacollection.datasets[0].data[a]+i}r+=1,r==o&&e.render()}))}}))}))}))},render:function(){var e=0;for(e=0;e<6;e++)this.datacollection.datasets[0].data[e]=this.datacollection.datasets[0].data[e].toFixed(2);this.renderChart(this.datacollection,this.options)}},created:function(){this.fetchItems()}},wt={data:function(){return{havePools:!0}},components:{SpendingsChart:At},methods:{noPools:function(){this.havePools=!1}}},yt=wt,Ct=(o("4eaa"),Object(g["a"])(yt,gt,bt,!1,null,"20c70036",null)),_t=Ct.exports,Pt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticStyle:{"text-align":"center"}},[o("h2",{staticStyle:{"text-align":"center"}},[e._v("Prices of services ordered")]),o("pricing-chart",{attrs:{category:e.category}}),o("div",{staticStyle:{padding:"1em"}},[o("label",{staticStyle:{"font-size":"1.5em","padding-right":"0.5em"},attrs:{for:"categories"}},[e._v("Choose a category:")]),o("select",{directives:[{name:"model",rawName:"v-model",value:e.category,expression:"category"}],staticStyle:{"font-size":"1.5em"},on:{change:function(t){var o=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.category=t.target.multiple?o:o[0]}}},[o("option",{attrs:{selected:""}},[e._v("All")]),o("option",[e._v("Video Streaming")]),o("option",[e._v("Music")]),o("option",[e._v("Food")]),o("option",[e._v("News")]),o("option",[e._v("VPN")]),o("option",[e._v("Reading")])])])],1)},xt=[],Nt={extends:Pe["a"],props:["category"],data:function(){return{datacollection:{},options:{legend:{display:!1},title:{display:!0,text:this.category},responsive:!0,maintainAspectRatio:!1,scales:{yAxes:[{ticks:{beginAtZero:!0}}]}},video:[],music:[],food:[],news:[],vpn:[],readings:[],all:[]}},methods:{fetchItems:function(){var e=this,t=P.firestore().collection("services");t.get().then((function(t){var o=t.size,s=0;t.forEach((function(t){if(t.exists){var a=t.data();e.all.push({name:a.serviceName,fee:a.fee,category:a.category})}s+=1,s==o&&e.sort()}))}))},sort:function(){var e=this;this.all=this.all.sort((function(e,t){return e.fee-t.fee})),this.all.forEach((function(t){switch(t.category){case"Video Streaming":e.video.push(t);break;case"Music":e.music.push(t);break;case"Food":e.food.push(t);break;case"News":e.news.push(t);break;case"VPN":e.vpn.push(t);break;case"Reading":e.readings.push(t);break}})),this.addData()},addData:function(){var e={labels:[],datasets:[{label:"Monthly Price ($)",data:[],backgroundColor:this.interpolateColors("rgb(255, 186, 73)","rgb(32, 163, 158)",this.video.length)}]};this.video.forEach((function(t){e.labels.push(t.name),e.datasets[0].data.push(t.fee)})),this.datacollection["video"]=e;var t={labels:[],datasets:[{label:"Monthly Price ($)",data:[],backgroundColor:this.interpolateColors("rgb(245, 93, 62)","rgb(135, 142, 136)",this.music.length)}]};this.music.forEach((function(e){t.labels.push(e.name),t.datasets[0].data.push(e.fee)})),this.datacollection["music"]=t;var o={labels:[],datasets:[{label:"Monthly Price ($)",data:[],backgroundColor:this.interpolateColors("rgb(196, 214, 176)","rgb(71, 121, 152)",this.food.length)}]};this.food.forEach((function(e){o.labels.push(e.name),o.datasets[0].data.push(e.fee)})),this.datacollection["food"]=o;var s={labels:[],datasets:[{label:"Monthly Price ($)",data:[],backgroundColor:this.interpolateColors("rgb(62, 78, 80)","rgb(250, 207, 173)",this.news.length)}]};this.news.forEach((function(e){s.labels.push(e.name),s.datasets[0].data.push(e.fee)})),this.datacollection["news"]=s;var a={labels:[],datasets:[{label:"Monthly Price ($)",data:[],backgroundColor:this.interpolateColors("rgb(254, 147, 140)","rgb(175, 27, 63)",this.vpn.length)}]};this.vpn.forEach((function(e){a.labels.push(e.name),a.datasets[0].data.push(e.fee)})),this.datacollection["vpn"]=a;var r={labels:[],datasets:[{label:"Monthly Price ($)",data:[],backgroundColor:this.interpolateColors("rgb(197, 239, 203)","rgb(2, 4, 2)",this.readings.length)}]};this.readings.forEach((function(e){r.labels.push(e.name),r.datasets[0].data.push(e.fee)})),this.datacollection["readings"]=r;var i={labels:[],datasets:[{label:"Monthly Price ($)",data:[],backgroundColor:this.interpolateColors("rgb(35, 255, 0)","rgb(255, 0, 0)",this.all.length)}]};this.all.forEach((function(e){i.labels.push(e.name),i.datasets[0].data.push(e.fee)})),this.datacollection["all"]=i,this.renderChart(this.datacollection.all,this.options)},interpolateColor:function(e,t,o){arguments.length<3&&(o=.5);for(var s=e.slice(),a=0;a<3;a++)s[a]=Math.round(s[a]+o*(t[a]-e[a]));return s},interpolateColors:function(e,t,o){var s=1/(o-1),a=[];e=e.match(/\d+/g).map(Number),t=t.match(/\d+/g).map(Number);for(var r=0;r<o;r++){var i=this.interpolateColor(e,t,s*r);a.push(this.rgbToHex(i[0],i[1],i[2]))}return a},rgbToHex:function(e,t,o){return"#"+this.componentToHex(e)+this.componentToHex(t)+this.componentToHex(o)},componentToHex:function(e){var t=e.toString(16);return 1==t.length?"0"+t:t}},created:function(){this.fetchItems()},watch:{category:function(){switch(this.options.title.text=this.category,this.category){case"Video Streaming":this.renderChart(this.datacollection.video,this.options);break;case"Music":this.renderChart(this.datacollection.music,this.options);break;case"Food":this.renderChart(this.datacollection.food,this.options);break;case"News":this.renderChart(this.datacollection.news,this.options);break;case"VPN":this.renderChart(this.datacollection.vpn,this.options);break;case"Reading":this.renderChart(this.datacollection.readings,this.options);break;case"All":this.renderChart(this.datacollection.all,this.options);break}}}},kt={data:function(){return{category:"All"}},components:{PricingChart:Nt}},jt=kt,Dt=Object(g["a"])(jt,Pt,xt,!1,null,null,null),St=Dt.exports,Et={components:{PoolsChart:vt,SpendingsChart:_t,PricingChart:St,NavBar:A},methods:{goBack:function(){this.$router.push({name:"Home"})}},created:function(){console.log("mounting"),setTimeout((function(){var e=document.getElementsByClassName("loading");e[0].style.display="none",e[1].style.display="none",e[2].style.display="none"}),1300)}},It=Et,Ft=(o("a723"),Object(g["a"])(It,ct,lt,!1,null,"832b9d10",null)),Bt=Ft.exports,Ot=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("navbar"),o("div",{attrs:{id:"mainContainer"}},[o("activity-feed",{directives:[{name:"show",rawName:"v-show",value:e.activityOpen,expression:"activityOpen"}],attrs:{id:"activityFeed"}}),o("div",{attrs:{id:"rightContainer"}},[o("div",{attrs:{id:"mainCol"}},[e._m(0),o("p",[e._v("Maximum number of people in group: "+e._s(e.maxSize))]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.maxSize,expression:"maxSize"}],attrs:{type:"number",placeholder:"Enter the details"},domProps:{value:e.maxSize},on:{input:function(t){t.target.composing||(e.maxSize=t.target.value)}}}),o("p",[e._v("Name of the group: "+e._s(e.poolName))]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.poolName,expression:"poolName"}],attrs:{placeholder:"Enter the details"},domProps:{value:e.poolName},on:{input:function(t){t.target.composing||(e.poolName=t.target.value)}}}),o("p",[e._v("Shared password of the group: "+e._s(e.sharedPassword))]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.sharedPassword,expression:"sharedPassword"}],attrs:{placeholder:"Enter the details"},domProps:{value:e.sharedPassword},on:{input:function(t){t.target.composing||(e.sharedPassword=t.target.value)}}}),o("p",[e._v("Shared user name of the group: "+e._s(e.sharedUserName))]),o("input",{directives:[{name:"model",rawName:"v-model",value:e.sharedUserName,expression:"sharedUserName"}],attrs:{placeholder:"Enter the details"},domProps:{value:e.sharedUserName},on:{input:function(t){t.target.composing||(e.sharedUserName=t.target.value)}}}),o("br"),o("br"),o("br"),o("button",{on:{click:e.createGroup}},[e._v("Create Group")])])])],1)],1)},Tt=[function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("h2",[e._v(" The following are auto-generated details of your group. "),o("br"),e._v(" Feel free to change according to your convenience ")])}],zt={components:{navbar:A,ActivityFeed:j},data:function(){return{datapacket:{},dateCreated:P.firestore.FieldValue.serverTimestamp(),maxSize:0,poolName:"",remaining:"",serviceId:this.$route.params.document_id,sharedPassword:"",sharedUserName:""}},methods:{fetchItems:function(){this.dateCreated=P.firestore.FieldValue.serverTimestamp(),this.maxSize=Math.floor(4*Math.random()+1),this.poolName=Math.random().toString(16).substr(2,8),this.remaining=this.maxSize-1,this.serviceId=this.$route.params.document_id,this.sharedPassword=Math.random().toString(16).substr(2,8),this.sharedUserName=Math.random().toString(16).substr(2,8)+"@gmail.com"},createGroup:function(){var e={};e["dateCreated"]=this.dateCreated,e["maxSize"]=Number(this.maxSize),e["poolName"]=this.poolName,e["remaining"]=this.maxSize-1,e["serviceId"]="r7Pr27gQZoh5QptEhsdZ",e["sharedPassword"]=this.sharedPassword,e["sharedUserName"]=this.sharedUserName,this.datapacket=e,P.firestore().collection("pools").add(this.datapacket);var t={};t["startDate"]=P.firestore.FieldValue.serverTimestamp();var o=new Date;t["endDate"]=P.firestore.FieldValue.serverTimestamp(),t["nextPaymentDue"]=new Date(o.setMonth(o.getMonth()+1)),console.log(t.nextPaymentDue),t["poolID"]=e.serviceId;var s=this.$store.getters.user.data.uid;t["userID"]=s,console.log(t),P.firestore().collection("poolgroups").add(t).then(alert("You've successfully created a group!\n The pool's name is: "+this.datapacket.poolName+".\n Wait for others to join the pool!"))}},created:function(){this.fetchItems()}},Ut=zt,Lt=(o("5672"),Object(g["a"])(Ut,Ot,Tt,!1,null,"05d39c5e",null)),Mt=Lt.exports,Rt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("img",{attrs:{id:"poolLogo",alt:"pool logo",src:o("7b1f")}}),s("h4",[e._v("Manage your subs, POOL your resources")]),s("div",{attrs:{id:"content"}},[s("p",[e._v("You have successfully logout.")]),s("button",{on:{click:function(t){return t.preventDefault(),e.returnHome(t)}}},[s("span",[e._v("Return back to home")])])])])},Vt=[],Gt={data:function(){return{}},components:{},methods:{returnHome:function(){this.$router.push("explore")}}},Ht=Gt,Qt=(o("e170"),Object(g["a"])(Ht,Rt,Vt,!1,null,"0ef06ce8",null)),Yt=Qt.exports,qt=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"container"}},[s("img",{staticStyle:{width:"30%","max-height":"30vh"},attrs:{alt:"pool logo",src:o("7b1f")}}),s("div",{attrs:{id:"inputBox"}},[s("h3",[e._v("SET PAYMENT METHOD")]),e.errors.length?s("div",{attrs:{id:"errorMsg"}},[s("ul",e._l(e.errors,(function(t){return s("li",{key:t},[e._v(e._s(t))])})),0)]):e._e(),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.ccName,expression:"ccName",modifiers:{lazy:!0}}],staticClass:"ccFields",attrs:{id:"ccName",type:"text",maxlength:"50",placeholder:"Card Holder Name"},domProps:{value:e.ccName},on:{change:function(t){e.ccName=t.target.value}}}),s("br"),s("br"),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.ccNum,expression:"ccNum",modifiers:{lazy:!0}}],staticClass:"ccFields",attrs:{id:"ccNumber",type:"tel",pattern:"\\d*",maxlength:"16",placeholder:"Credit Card Number"},domProps:{value:e.ccNum},on:{change:function(t){e.ccNum=t.target.value}}}),s("input",{directives:[{name:"model",rawName:"v-model.lazy",value:e.cvc,expression:"cvc",modifiers:{lazy:!0}}],staticClass:"ccFields",attrs:{id:"cvc",type:"text",pattern:"\\d*",maxlength:"3",placeholder:"CVC"},domProps:{value:e.cvc},on:{change:function(t){e.cvc=t.target.value}}}),s("br"),s("br"),s("br"),s("button",{staticClass:"submitBtn",attrs:{type:"submit"},on:{click:function(t){return e.addCC()}}},[s("span",[e._v("Submit")])])])])},$t=[],Jt={data:function(){return{errors:[],ccName:"",ccNum:"",cvc:"",isValid:!1,uid:this.$store.getters.user.data.uid}},methods:{addCC:function(){var e=this;if(this.checkForm(),this.isValid){var t=P.firestore().collection("creditcards");t.add({cardNumber:this.ccNum,cardName:this.ccName,cvc:this.cvc,userID:this.uid}).then((function(){alert("Your account has been successfully created."),e.$router.push("explore")}))}},checkForm:function(){if(this.errors=[],!this.ccName||!this.ccNum||!this.cvc)return this.errors.push("Please fill in all required details"),void(this.isValid=!1);16==this.ccNum.length&&this.checkAllNumbers(this.ccNum)||this.errors.push("Please input a valid credit card number (16 characters)"),3==this.cvc.length&&this.checkAllNumbers(this.cvc)||this.errors.push("Please input a valid cvc number (3 characters)"),0==this.errors.length?this.isValid=!0:this.isValid=!1},checkAllNumbers:function(e){for(var t=["0","1","2","3","4","5","6","7","8","9"],o=0;o<e.length;o++)if(t.indexOf(e[o])<=-1)return!1;return!0}},computed:Object(h["a"])({},Object(i["b"])({user:"user"}))},Wt=Jt,Zt=(o("a693"),Object(g["a"])(Wt,qt,$t,!1,null,"181af336",null)),Xt=Zt.exports,Kt=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"container"}},[o("navbar"),o("div",{attrs:{id:"loginBox"}},[o("button",{on:{click:e.goBack}},[o("span",[e._v("Go Back")])]),e._l(e.service,(function(t){return o("div",{key:t.index,attrs:{id:"serviceContent"}},[o("img",{attrs:{alt:"photoURL",src:t.logo,id:"logoImg"}}),o("br"),o("span",{attrs:{id:"servHead"}},[e._v(e._s(t.name))]),e._v(" "),o("br")])})),o("h1",[e._v("New Pool Group")]),e.errors.length?o("div",{attrs:{id:"errorMsg"}},[e._v(" Please correct the following error(s): "),o("ul",e._l(e.errors,(function(t){return o("li",{key:t},[e._v(e._s(t))])})),0)]):e._e(),o("v-select",{attrs:{options:e.options}}),o("input",{directives:[{name:"model",rawName:"v-model",value:e.maxSize,expression:"maxSize"}],staticClass:"inputFields",attrs:{maxlength:"1",type:"text",placeholder:"Set number of people in group"},domProps:{value:e.maxSize},on:{input:function(t){t.target.composing||(e.maxSize=t.target.value)}}}),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.poolName,expression:"poolName"}],staticClass:"inputFields",attrs:{maxlength:"30",placeholder:"Name of the group"},domProps:{value:e.poolName},on:{input:function(t){t.target.composing||(e.poolName=t.target.value)}}}),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.sharedUserName,expression:"sharedUserName"}],staticClass:"inputFields",attrs:{maxlength:"30",placeholder:"Shared Username"},domProps:{value:e.sharedUserName},on:{input:function(t){t.target.composing||(e.sharedUserName=t.target.value)}}}),o("br"),o("input",{directives:[{name:"model",rawName:"v-model",value:e.sharedPassword,expression:"sharedPassword"}],staticClass:"inputFields",attrs:{placeholder:"Shared password"},domProps:{value:e.sharedPassword},on:{input:function(t){t.target.composing||(e.sharedPassword=t.target.value)}}}),o("button",{on:{click:e.generateRandomPw}},[o("span",[e._v("Generate Password")])]),o("br"),o("button",{on:{click:e.createGroup}},[o("span",[e._v("Create Group")])])],2)],1)},eo=[],to={components:{navbar:A},data:function(){return{uid:this.$store.getters.user.data.uid,sid:this.$route.params.sid,errors:[],service:[],servName:this.$route.params.sname,dateCreated:P.firestore.FieldValue.serverTimestamp(),maxSize:"",poolName:"",remaining:"",serviceName:this.$route.params.document_id,sharedPassword:"",sharedUserName:"",pool:{},userpool:{},isValid:!1,options:[1,2,3,4,5,6]}},methods:{goBack:function(){this.$router.push({name:"PoolGroups",params:{sname:this.servName}})},createGroup:function(){var e=Object(ne["a"])(regeneratorRuntime.mark((function e(){var t,o,s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.checkForm(),!this.isValid){e.next=28;break}return t=P.firestore().collection("pools"),o=P.firestore().collection("services"),this.pool["serviceId"]=this.sid,this.pool["dateCreated"]=this.dateCreated,this.pool["maxSize"]=Number(this.maxSize),this.pool["poolName"]=this.poolName,this.pool["remaining"]=this.maxSize-1,this.pool["sharedPassword"]=this.sharedPassword,this.pool["sharedUserName"]=this.sharedUserName,console.log(this.pool),e.next=14,P.firestore().collection("pools").add(this.pool);case 14:s=e.sent,console.log("docid: "+s.id),this.userpool["poolID"]=s.id,this.userpool["startDate"]=P.firestore.FieldValue.serverTimestamp(),a=new Date,this.userpool["endDate"]=P.firestore.FieldValue.serverTimestamp(),this.userpool["nextPaymentDue"]=new Date(a.setMonth(a.getMonth()+1)),this.userpool["userID"]=this.uid,console.log(this.userpool),P.firestore().collection("poolgroups").add(this.userpool).then(alert("You've successfully created a group!")).catch((function(e){console.log("Error getting documents: ",e)})),t.doc(s.id).get().then((function(e){e.exists&&o.doc(e.data().serviceId).update({score:m["a"].firestore.FieldValue.increment(1)}).then((function(){console.log("Score Added updated!")})).catch((function(e){console.error("Error updating document: ",e)}))})),this.$router.push({name:"PoolGroups",params:{sname:this.servName}}),e.next=29;break;case 28:return e.abrupt("return");case 29:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),checkForm:function(){this.errors=[],this.maxSize&&this.sharedPassword&&this.sharedPassword&&this.poolName?this.checkAllNumbers(this.maxSize)?(this.checkSize(this.maxSize)||this.errors.push("Please enter a max size between 1 to 6)"),0==this.errors.length?this.isValid=!0:this.isValid=!1):this.errors.push("Please enter a valid max size."):this.errors.push("Please fill in all details")},checkSize:function(e){return e>0&&e<7},checkAllNumbers:function(e){for(var t=["0","1","2","3","4","5","6","7","8","9"],o=0;o<e.length;o++)if(t.indexOf(e[o])<=-1)return!1;return!0},generateRandomPw:function(){this.sharedPassword=Math.random().toString(16).substr(2,8)},toggle:function(){this.activityOpen?(this.activityOpen=!1,document.getElementById("mainContainer").style.gridTemplateColumns="1fr",this.arrow="right-arrow-angle.png"):(this.activityOpen=!0,document.getElementById("mainContainer").style.gridTemplateColumns="1fr 4fr",this.arrow="left-arrow-angle.png")},fetchService:function(){var e=this,t=P.firestore().collection("services");t.where("serviceName","==",this.servName).get().then((function(t){t.forEach((function(t){e.sid=t.id,e.service.push({id:t.id,name:t.data().serviceName,score:t.data().score,logo:t.data().logo,category:t.data().category})}))})).catch((function(e){console.log("Error getting documents: ",e)}))},fetchItems:function(){this.dateCreated=P.firestore.FieldValue.serverTimestamp()}},created:function(){null==this.$route.params.sname&&(this.servName=localStorage.sname),null==this.$route.params.sid&&(this.servName=localStorage.sname),this.fetchService(),this.fetchItems()}},oo=to,so=(o("6133"),Object(g["a"])(oo,Kt,eo,!1,null,"138f876e",null)),ao=so.exports;s["a"].use(r["a"]);var ro=new r["a"]({mode:"history",routes:[{path:"/",redirect:"/explore"},{path:"/login",name:"Login",component:fe},{path:"/home",name:"Home",component:oe,meta:{requiresAuth:!0}},{path:"/activity-feed",name:"ActivityFeed",component:j,meta:{requiresAuth:!0}},{path:"/about-us",name:"AboutUs",component:ye,meta:{requiresAuth:!0}},{path:"/explore",name:"Explore",component:Ge,props:!0,meta:{requiresAuth:!0}},{path:"/pending-pools",name:"PendingPools",component:M,meta:{requiresAuth:!0}},{path:"/set-password",name:"SetPassword",component:Je},{path:"/pool-groups",name:"PoolGroups",component:tt,props:!0,meta:{requiresAuth:!0}},{path:"/user-profile",name:"UserProfle",component:nt,props:!0},{path:"/statistics",name:"Statistics",component:Bt,meta:{requiresAuth:!0}},{path:"/create-subscription",name:"CreateSubscription",component:Mt,props:!0,meta:{requiresAuth:!0}},{path:"/logout",name:Yt,component:Yt},{path:"/payment-setup",name:"PaymentSetup",component:Xt},{path:"/create-pool",name:"CreatePoolGroup",component:ao,meta:{requiresAuth:!0}}]});ro.beforeEach((function(e,t,o){var s=e.matched.some((function(e){return e.meta.requiresAuth}));s?c.state.user?o():o({path:"/login",query:{redirect:e.fullPath}}):o()}));var io=ro;s["a"].config.productionTip=!1,P.auth().onAuthStateChanged((function(e){c.dispatch("fetchUser",e)})),new s["a"]({router:io,store:c,render:function(e){return e(a["default"])}}).$mount("#app")},5859:function(e,t,o){},6133:function(e,t,o){"use strict";o("1ee9")},"63c0":function(e,t,o){},6416:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAjiAAAI4gHgXSKcAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAADNQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8YBMDAAAABB0Uk5TAAEGaWprbG1ub3COj7Cx/mvF/QMAAADXSURBVHja7dtbDoJAFATRQVHAF73/1fJHolHwZ6aiqbuBOgu4XcqXd7kW9KbkBvdRwZSggjFBBWsfEgwJKnjqA4KXfnPBOUEFb/pNBacEFXzoNxP0CSrY6DcR9HNQwXG7X12w268s6O4JKzg8FChQoECBAgUKFChQoECBAgUKFChQoECBgh8S0AD79u3bt2/fvn379u3bt2/fvn379u3bt/+fff61m35u59/7+YEDP/HgRy78zIcfOvFTL37sxs/9+MEjP/nkR6/87JcfPvPTb378Xm/+vwDeWfwZnC0HSQAAAABJRU5ErkJggg=="},6432:function(e,t,o){e.exports=o.p+"img/people.c75f6ca3.png"},"69b4":function(e,t,o){"use strict";o("ebb4")},"6e36":function(e,t,o){"use strict";o.d(t,"a",(function(){return s})),o.d(t,"b",(function(){return a}));var s=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"app"}},[o("router-view")],1)},a=[]},"713a":function(e,t,o){"use strict";o("8d39")},"74aa":function(e,t,o){},"7b1f":function(e,t,o){e.exports=o.p+"img/pool-logo-name.0dbe242a.png"},"85ec":function(e,t,o){},"8ab2":function(e,t,o){},"8d39":function(e,t,o){},"8f5e":function(e,t,o){"use strict";o("283a")},"96f2":function(e,t,o){},"97b1":function(e,t,o){"use strict";o("120d")},"9afb":function(e,t,o){e.exports=o.p+"img/email.0a3a3edc.png"},"9bd1":function(e,t,o){"use strict";o("c3ac")},"9e64":function(e,t,o){"use strict";o("96f2")},a3cc:function(e,t,o){"use strict";o("1928")},a693:function(e,t,o){"use strict";o("5859")},a723:function(e,t,o){"use strict";o("74aa")},b5b5:function(e,t,o){"use strict";o("c148")},b90b:function(e,t,o){},c148:function(e,t,o){},c3ac:function(e,t,o){},cd0e:function(e,t,o){},d036:function(e,t,o){"use strict";o("fcf0")},d24a:function(e,t,o){"use strict";o("472c")},db01:function(e,t,o){"use strict";o("4b87")},e0f8:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAjiAAAI4gHgXSKcAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAADNQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8YBMDAAAABB0Uk5TAAEGaWprbG1ub3COj7Cx/mvF/QMAAADYSURBVHja7dtBDoJAFATRQVARUfr+p3XjwihoTJypmNS/wKsD/C6lyp2ngt6cnGAfLZgTtODuJyPsQwUPfnKEfaDgyW9e8OInB9hvWrDqJ3vYb1aw6ScD7DcpeOtnGVg/WXrWr13w2U8uHetfd/r6+vr6+vr6+vr6+vr6+vr6+vr6+vr/FmCBBRZYYIEFFlhggQUWWGCBBRZYYIEFFlhggQU/L6j52s0/t/Pv/fzAgZ948CMXfubDD534qRc/duPnfvzgkZ988qNXfvbLD5/56Tc/fv9m/n8DZ5D8GXaAC3AAAAAASUVORK5CYII="},e170:function(e,t,o){"use strict";o("1299")},ebb4:function(e,t,o){},eebb:function(e,t,o){e.exports=o.p+"img/google-logo.55d3560e.png"},fbf5:function(e,t){e.exports="data:image/png;base64,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"},fc32:function(e,t,o){e.exports=o.p+"img/pool-logo.1d7d1d51.png"},fcf0:function(e,t,o){}});
//# sourceMappingURL=app.187a3516.js.map